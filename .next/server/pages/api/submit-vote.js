"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/submit-vote";
exports.ids = ["pages/api/submit-vote"];
exports.modules = {

/***/ "(api-node)/./lib/voteStore.ts":
/*!**************************!*\
  !*** ./lib/voteStore.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   voteStore: () => (/* binding */ voteStore)\n/* harmony export */ });\n// Core state management for RoastBot\n// In-memory singleton store for game state and voting\n// Singleton store\nclass VoteStore {\n    getGameState() {\n        return {\n            ...this.gameState\n        };\n    }\n    startRound(topic) {\n        this.gameState.topic = topic;\n        this.gameState.gameStarted = true;\n        this.gameState.aiRoast = '';\n        this.gameState.humanRoast = '';\n        this.gameState.votes = {\n            human: 0,\n            ai: 0\n        };\n        this.gameState.isVotingOpen = false;\n        return this.getGameState();\n    }\n    setAIRoast(roast) {\n        this.gameState.aiRoast = roast;\n        return this.getGameState();\n    }\n    setHumanRoast(roast) {\n        this.gameState.humanRoast = roast;\n        return this.getGameState();\n    }\n    openVoting() {\n        this.gameState.isVotingOpen = true;\n        return this.getGameState();\n    }\n    closeVoting() {\n        this.gameState.isVotingOpen = false;\n        // Determine round winner\n        const { human, ai } = this.gameState.votes;\n        let winner = 'tie';\n        if (human > ai) {\n            winner = 'human';\n        } else if (ai > human) {\n            winner = 'ai';\n        }\n        this.gameState.roundWinners.push(winner);\n        return this.getGameState();\n    }\n    submitVote(isAI) {\n        if (!this.gameState.isVotingOpen) {\n            throw new Error('Voting is not open');\n        }\n        if (isAI) {\n            this.gameState.votes.ai++;\n        } else {\n            this.gameState.votes.human++;\n        }\n        return this.getGameState();\n    }\n    getVotes() {\n        const { human, ai } = this.gameState.votes;\n        const total = human + ai;\n        const voteStats = {\n            total,\n            humanVotes: human,\n            aiVotes: ai,\n            humanPercentage: total > 0 ? Math.round(human / total * 100) : 50,\n            aiPercentage: total > 0 ? Math.round(ai / total * 100) : 50\n        };\n        return {\n            gameState: this.getGameState(),\n            voteStats\n        };\n    }\n    nextRound() {\n        if (this.gameState.currentRound >= this.gameState.maxRounds) {\n            throw new Error('Game already completed');\n        }\n        this.gameState.currentRound++;\n        this.gameState.topic = '';\n        this.gameState.humanRoast = '';\n        this.gameState.aiRoast = '';\n        this.gameState.votes = {\n            human: 0,\n            ai: 0\n        };\n        this.gameState.isVotingOpen = false;\n        // Keep the game in started state so the UI flow continues\n        this.gameState.gameStarted = true;\n        return this.getGameState();\n    }\n    resetGame() {\n        this.gameState = {\n            gameStarted: false,\n            currentRound: 1,\n            maxRounds: 3,\n            topic: '',\n            humanRoast: '',\n            aiRoast: '',\n            isVotingOpen: false,\n            votes: {\n                human: 0,\n                ai: 0\n            },\n            roundWinners: []\n        };\n        return this.getGameState();\n    }\n    getFinalWinner() {\n        if (this.gameState.roundWinners.length < this.gameState.maxRounds) {\n            return null;\n        }\n        const humanWins = this.gameState.roundWinners.filter((w)=>w === 'human').length;\n        const aiWins = this.gameState.roundWinners.filter((w)=>w === 'ai').length;\n        if (humanWins > aiWins) {\n            return 'human';\n        } else if (aiWins > humanWins) {\n            return 'ai';\n        } else {\n            return 'tie';\n        }\n    }\n    constructor(){\n        this.gameState = {\n            gameStarted: false,\n            currentRound: 1,\n            maxRounds: 3,\n            topic: '',\n            humanRoast: '',\n            aiRoast: '',\n            isVotingOpen: false,\n            votes: {\n                human: 0,\n                ai: 0\n            },\n            roundWinners: []\n        };\n    }\n}\n// Export singleton instance\nconst voteStore = new VoteStore();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixPQUFPO1FBQ1QsT0FBTztZQUNMLE9BQU87UUFDVDtJQUNGOzthQWhKUXBDLFlBQXVCO1lBQzdCRyxhQUFhO1lBQ2I0QixjQUFjO1lBQ2RDLFdBQVc7WUFDWDlCLE9BQU87WUFDUEcsWUFBWTtZQUNaRCxTQUFTO1lBQ1RLLGNBQWM7WUFDZEgsT0FBTztnQkFDTEMsT0FBTztnQkFDUEMsSUFBSTtZQUNOO1lBQ0FRLGNBQWMsRUFBRTtRQUNsQjs7QUFvSUY7QUFFQSw0QkFBNEI7QUFDckIsTUFBTXdCLFlBQVksSUFBSTFDLFlBQVkiLCJzb3VyY2VzIjpbIi9Vc2Vycy90cmV2b3JhbHBlcnQvRGVza3RvcC9Sb2FzdEJvdC9saWIvdm90ZVN0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcmUgc3RhdGUgbWFuYWdlbWVudCBmb3IgUm9hc3RCb3Rcbi8vIEluLW1lbW9yeSBzaW5nbGV0b24gc3RvcmUgZm9yIGdhbWUgc3RhdGUgYW5kIHZvdGluZ1xuXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVTdGF0ZSB7XG4gIGdhbWVTdGFydGVkOiBib29sZWFuO1xuICBjdXJyZW50Um91bmQ6IG51bWJlcjtcbiAgbWF4Um91bmRzOiBudW1iZXI7XG4gIHRvcGljOiBzdHJpbmc7XG4gIGh1bWFuUm9hc3Q6IHN0cmluZztcbiAgYWlSb2FzdDogc3RyaW5nO1xuICBpc1ZvdGluZ09wZW46IGJvb2xlYW47XG4gIHZvdGVzOiB7XG4gICAgaHVtYW46IG51bWJlcjtcbiAgICBhaTogbnVtYmVyO1xuICB9O1xuICByb3VuZFdpbm5lcnM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZvdGVTdGF0cyB7XG4gIHRvdGFsOiBudW1iZXI7XG4gIGh1bWFuUGVyY2VudGFnZTogbnVtYmVyO1xuICBhaVBlcmNlbnRhZ2U6IG51bWJlcjtcbiAgaHVtYW5Wb3RlczogbnVtYmVyO1xuICBhaVZvdGVzOiBudW1iZXI7XG59XG5cbi8vIFNpbmdsZXRvbiBzdG9yZVxuY2xhc3MgVm90ZVN0b3JlIHtcbiAgcHJpdmF0ZSBnYW1lU3RhdGU6IEdhbWVTdGF0ZSA9IHtcbiAgICBnYW1lU3RhcnRlZDogZmFsc2UsXG4gICAgY3VycmVudFJvdW5kOiAxLFxuICAgIG1heFJvdW5kczogMyxcbiAgICB0b3BpYzogJycsXG4gICAgaHVtYW5Sb2FzdDogJycsXG4gICAgYWlSb2FzdDogJycsXG4gICAgaXNWb3RpbmdPcGVuOiBmYWxzZSxcbiAgICB2b3Rlczoge1xuICAgICAgaHVtYW46IDAsXG4gICAgICBhaTogMFxuICAgIH0sXG4gICAgcm91bmRXaW5uZXJzOiBbXVxuICB9O1xuXG4gIGdldEdhbWVTdGF0ZSgpOiBHYW1lU3RhdGUge1xuICAgIHJldHVybiB7IC4uLnRoaXMuZ2FtZVN0YXRlIH07XG4gIH1cblxuICBzdGFydFJvdW5kKHRvcGljOiBzdHJpbmcpOiBHYW1lU3RhdGUge1xuICAgIHRoaXMuZ2FtZVN0YXRlLnRvcGljID0gdG9waWM7XG4gICAgdGhpcy5nYW1lU3RhdGUuZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xuICAgIHRoaXMuZ2FtZVN0YXRlLmFpUm9hc3QgPSAnJztcbiAgICB0aGlzLmdhbWVTdGF0ZS5odW1hblJvYXN0ID0gJyc7XG4gICAgdGhpcy5nYW1lU3RhdGUudm90ZXMgPSB7IGh1bWFuOiAwLCBhaTogMCB9O1xuICAgIHRoaXMuZ2FtZVN0YXRlLmlzVm90aW5nT3BlbiA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLmdldEdhbWVTdGF0ZSgpO1xuICB9XG5cbiAgc2V0QUlSb2FzdChyb2FzdDogc3RyaW5nKTogR2FtZVN0YXRlIHtcbiAgICB0aGlzLmdhbWVTdGF0ZS5haVJvYXN0ID0gcm9hc3Q7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2FtZVN0YXRlKCk7XG4gIH1cblxuICBzZXRIdW1hblJvYXN0KHJvYXN0OiBzdHJpbmcpOiBHYW1lU3RhdGUge1xuICAgIHRoaXMuZ2FtZVN0YXRlLmh1bWFuUm9hc3QgPSByb2FzdDtcbiAgICByZXR1cm4gdGhpcy5nZXRHYW1lU3RhdGUoKTtcbiAgfVxuXG4gIG9wZW5Wb3RpbmcoKTogR2FtZVN0YXRlIHtcbiAgICB0aGlzLmdhbWVTdGF0ZS5pc1ZvdGluZ09wZW4gPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLmdldEdhbWVTdGF0ZSgpO1xuICB9XG5cbiAgY2xvc2VWb3RpbmcoKTogR2FtZVN0YXRlIHtcbiAgICB0aGlzLmdhbWVTdGF0ZS5pc1ZvdGluZ09wZW4gPSBmYWxzZTtcbiAgICBcbiAgICAvLyBEZXRlcm1pbmUgcm91bmQgd2lubmVyXG4gICAgY29uc3QgeyBodW1hbiwgYWkgfSA9IHRoaXMuZ2FtZVN0YXRlLnZvdGVzO1xuICAgIGxldCB3aW5uZXIgPSAndGllJztcbiAgICBpZiAoaHVtYW4gPiBhaSkge1xuICAgICAgd2lubmVyID0gJ2h1bWFuJztcbiAgICB9IGVsc2UgaWYgKGFpID4gaHVtYW4pIHtcbiAgICAgIHdpbm5lciA9ICdhaSc7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZ2FtZVN0YXRlLnJvdW5kV2lubmVycy5wdXNoKHdpbm5lcik7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuZ2V0R2FtZVN0YXRlKCk7XG4gIH1cblxuICBzdWJtaXRWb3RlKGlzQUk6IGJvb2xlYW4pOiBHYW1lU3RhdGUge1xuICAgIGlmICghdGhpcy5nYW1lU3RhdGUuaXNWb3RpbmdPcGVuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZvdGluZyBpcyBub3Qgb3BlbicpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoaXNBSSkge1xuICAgICAgdGhpcy5nYW1lU3RhdGUudm90ZXMuYWkrKztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nYW1lU3RhdGUudm90ZXMuaHVtYW4rKztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuZ2V0R2FtZVN0YXRlKCk7XG4gIH1cblxuICBnZXRWb3RlcygpOiB7IGdhbWVTdGF0ZTogR2FtZVN0YXRlOyB2b3RlU3RhdHM6IFZvdGVTdGF0cyB9IHtcbiAgICBjb25zdCB7IGh1bWFuLCBhaSB9ID0gdGhpcy5nYW1lU3RhdGUudm90ZXM7XG4gICAgY29uc3QgdG90YWwgPSBodW1hbiArIGFpO1xuICAgIFxuICAgIGNvbnN0IHZvdGVTdGF0czogVm90ZVN0YXRzID0ge1xuICAgICAgdG90YWwsXG4gICAgICBodW1hblZvdGVzOiBodW1hbixcbiAgICAgIGFpVm90ZXM6IGFpLFxuICAgICAgaHVtYW5QZXJjZW50YWdlOiB0b3RhbCA+IDAgPyBNYXRoLnJvdW5kKChodW1hbiAvIHRvdGFsKSAqIDEwMCkgOiA1MCxcbiAgICAgIGFpUGVyY2VudGFnZTogdG90YWwgPiAwID8gTWF0aC5yb3VuZCgoYWkgLyB0b3RhbCkgKiAxMDApIDogNTBcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBnYW1lU3RhdGU6IHRoaXMuZ2V0R2FtZVN0YXRlKCksXG4gICAgICB2b3RlU3RhdHNcbiAgICB9O1xuICB9XG5cbiAgbmV4dFJvdW5kKCk6IEdhbWVTdGF0ZSB7XG4gICAgaWYgKHRoaXMuZ2FtZVN0YXRlLmN1cnJlbnRSb3VuZCA+PSB0aGlzLmdhbWVTdGF0ZS5tYXhSb3VuZHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignR2FtZSBhbHJlYWR5IGNvbXBsZXRlZCcpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmdhbWVTdGF0ZS5jdXJyZW50Um91bmQrKztcbiAgICB0aGlzLmdhbWVTdGF0ZS50b3BpYyA9ICcnO1xuICAgIHRoaXMuZ2FtZVN0YXRlLmh1bWFuUm9hc3QgPSAnJztcbiAgICB0aGlzLmdhbWVTdGF0ZS5haVJvYXN0ID0gJyc7XG4gICAgdGhpcy5nYW1lU3RhdGUudm90ZXMgPSB7IGh1bWFuOiAwLCBhaTogMCB9O1xuICAgIHRoaXMuZ2FtZVN0YXRlLmlzVm90aW5nT3BlbiA9IGZhbHNlO1xuICAgIC8vIEtlZXAgdGhlIGdhbWUgaW4gc3RhcnRlZCBzdGF0ZSBzbyB0aGUgVUkgZmxvdyBjb250aW51ZXNcbiAgICB0aGlzLmdhbWVTdGF0ZS5nYW1lU3RhcnRlZCA9IHRydWU7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuZ2V0R2FtZVN0YXRlKCk7XG4gIH1cblxuICByZXNldEdhbWUoKTogR2FtZVN0YXRlIHtcbiAgICB0aGlzLmdhbWVTdGF0ZSA9IHtcbiAgICAgIGdhbWVTdGFydGVkOiBmYWxzZSxcbiAgICAgIGN1cnJlbnRSb3VuZDogMSxcbiAgICAgIG1heFJvdW5kczogMyxcbiAgICAgIHRvcGljOiAnJyxcbiAgICAgIGh1bWFuUm9hc3Q6ICcnLFxuICAgICAgYWlSb2FzdDogJycsXG4gICAgICBpc1ZvdGluZ09wZW46IGZhbHNlLFxuICAgICAgdm90ZXM6IHtcbiAgICAgICAgaHVtYW46IDAsXG4gICAgICAgIGFpOiAwXG4gICAgICB9LFxuICAgICAgcm91bmRXaW5uZXJzOiBbXVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuZ2V0R2FtZVN0YXRlKCk7XG4gIH1cblxuICBnZXRGaW5hbFdpbm5lcigpOiAnYWknIHwgJ2h1bWFuJyB8ICd0aWUnIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMuZ2FtZVN0YXRlLnJvdW5kV2lubmVycy5sZW5ndGggPCB0aGlzLmdhbWVTdGF0ZS5tYXhSb3VuZHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBodW1hbldpbnMgPSB0aGlzLmdhbWVTdGF0ZS5yb3VuZFdpbm5lcnMuZmlsdGVyKHcgPT4gdyA9PT0gJ2h1bWFuJykubGVuZ3RoO1xuICAgIGNvbnN0IGFpV2lucyA9IHRoaXMuZ2FtZVN0YXRlLnJvdW5kV2lubmVycy5maWx0ZXIodyA9PiB3ID09PSAnYWknKS5sZW5ndGg7XG4gICAgXG4gICAgaWYgKGh1bWFuV2lucyA+IGFpV2lucykge1xuICAgICAgcmV0dXJuICdodW1hbic7XG4gICAgfSBlbHNlIGlmIChhaVdpbnMgPiBodW1hbldpbnMpIHtcbiAgICAgIHJldHVybiAnYWknO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3RpZSc7XG4gICAgfVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCB2b3RlU3RvcmUgPSBuZXcgVm90ZVN0b3JlKCk7XG4iXSwibmFtZXMiOlsiVm90ZVN0b3JlIiwiZ2V0R2FtZVN0YXRlIiwiZ2FtZVN0YXRlIiwic3RhcnRSb3VuZCIsInRvcGljIiwiZ2FtZVN0YXJ0ZWQiLCJhaVJvYXN0IiwiaHVtYW5Sb2FzdCIsInZvdGVzIiwiaHVtYW4iLCJhaSIsImlzVm90aW5nT3BlbiIsInNldEFJUm9hc3QiLCJyb2FzdCIsInNldEh1bWFuUm9hc3QiLCJvcGVuVm90aW5nIiwiY2xvc2VWb3RpbmciLCJ3aW5uZXIiLCJyb3VuZFdpbm5lcnMiLCJwdXNoIiwic3VibWl0Vm90ZSIsImlzQUkiLCJFcnJvciIsImdldFZvdGVzIiwidG90YWwiLCJ2b3RlU3RhdHMiLCJodW1hblZvdGVzIiwiYWlWb3RlcyIsImh1bWFuUGVyY2VudGFnZSIsIk1hdGgiLCJyb3VuZCIsImFpUGVyY2VudGFnZSIsIm5leHRSb3VuZCIsImN1cnJlbnRSb3VuZCIsIm1heFJvdW5kcyIsInJlc2V0R2FtZSIsImdldEZpbmFsV2lubmVyIiwibGVuZ3RoIiwiaHVtYW5XaW5zIiwiZmlsdGVyIiwidyIsImFpV2lucyIsInZvdGVTdG9yZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/voteStore.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsubmit-vote&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsubmit-vote.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsubmit-vote&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsubmit-vote.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   handler: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/api-utils */ \"(api-node)/./node_modules/next/dist/server/api-utils/index.js\");\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_submit_vote_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/api/submit-vote.ts */ \"(api-node)/./pages/api/submit-vote.ts\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(api-node)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(api-node)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n// Import the userland code.\n\n\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_submit_vote_ts__WEBPACK_IMPORTED_MODULE_4__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_submit_vote_ts__WEBPACK_IMPORTED_MODULE_4__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/submit-vote\",\n        pathname: \"/api/submit-vote\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_submit_vote_ts__WEBPACK_IMPORTED_MODULE_4__,\n    distDir: \".next\" || 0,\n    projectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    let srcPage = \"/api/submit-vote\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {}\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return;\n    }\n    const { query, params, prerenderManifest } = prepareResult;\n    try {\n        const method = req.method || 'GET';\n        const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.getTracer)();\n        const activeSpan = tracer.getActiveScopeSpan();\n        const onRequestError = routeModule.instrumentationOnRequestError.bind(routeModule);\n        const invokeRouteModule = async (span)=>routeModule.render(req, res, {\n                query: {\n                    ...query,\n                    ...params\n                },\n                params,\n                allowedRevalidateHeaderKeys: undefined,\n                multiZoneDraftMode: Boolean(\"false\"),\n                trustHostHeader: undefined,\n                // TODO: get this from from runtime env so manifest\n                // doesn't need to load\n                previewProps: prerenderManifest.preview,\n                propagateError: false,\n                dev: routeModule.isDev,\n                page: \"/api/submit-vote\",\n                projectDir:  false || '',\n                onError: (...args)=>onRequestError(req, ...args)\n            }).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await invokeRouteModule(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, invokeRouteModule));\n        }\n    } catch (err) {\n        // we re-throw in dev to show the error overlay\n        if (routeModule.isDev) {\n            throw err;\n        }\n        // this is technically an invariant as error handling\n        // should be done inside of api-resolver onError\n        (0,next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__.sendError)(res, 500, 'Internal Server Error');\n    } finally{\n        // We don't allow any waitUntil work in pages API routes currently\n        // so if callback is present return with resolved promise since no\n        // pending work\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n    }\n}\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGc3VibWl0LXZvdGUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnN1Ym1pdC12b3RlLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNDO0FBQ3VDO0FBQ3JDO0FBQzFEO0FBQ3VEO0FBQ2lCO0FBQ0Y7QUFDdEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHNEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxzREFBUTtBQUNwQztBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELGdCQUFnQixNQUF1QztBQUN2RCxDQUFDO0FBQ007QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsS0FBcUIsRUFBRSxFQUUxQjtBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtQ0FBbUM7QUFDL0M7QUFDQTtBQUNBLHVCQUF1Qiw0RUFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw2Q0FBNkMsU0FBNkM7QUFDMUYsNENBQTRDLE9BQXdDO0FBQ3BGLGlDQUFpQyxTQUFvQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsTUFBdUM7QUFDbkU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxnRkFBYztBQUMvRSwrREFBK0QseUNBQXlDO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFFBQVEsRUFBRSxNQUFNO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0Esa0JBQWtCO0FBQ2xCLHVDQUF1QyxRQUFRLEVBQUUsUUFBUTtBQUN6RDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFFQUFTO0FBQ2pCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZW5kRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcGktdXRpbHNcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3N1Ym1pdC12b3RlLnRzXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N1Ym1pdC12b3RlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3VibWl0LXZvdGVcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZCxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnXG59KTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9zdWJtaXQtdm90ZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgcXVlcnksIHBhcmFtcywgcHJlcmVuZGVyTWFuaWZlc3QgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICAgICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgICAgIGNvbnN0IG9uUmVxdWVzdEVycm9yID0gcm91dGVNb2R1bGUuaW5zdHJ1bWVudGF0aW9uT25SZXF1ZXN0RXJyb3IuYmluZChyb3V0ZU1vZHVsZSk7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT5yb3V0ZU1vZHVsZS5yZW5kZXIocmVxLCByZXMsIHtcbiAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgYWxsb3dlZFJldmFsaWRhdGVIZWFkZXJLZXlzOiBwcm9jZXNzLmVudi5fX05FWFRfQUxMT1dFRF9SRVZBTElEQVRFX0hFQURFUlMsXG4gICAgICAgICAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlOiBCb29sZWFuKHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREUpLFxuICAgICAgICAgICAgICAgIHRydXN0SG9zdEhlYWRlcjogcHJvY2Vzcy5lbnYuX19ORVhUX1RSVVNUX0hPU1RfSEVBREVSLFxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGdldCB0aGlzIGZyb20gZnJvbSBydW50aW1lIGVudiBzbyBtYW5pZmVzdFxuICAgICAgICAgICAgICAgIC8vIGRvZXNuJ3QgbmVlZCB0byBsb2FkXG4gICAgICAgICAgICAgICAgcHJldmlld1Byb3BzOiBwcmVyZW5kZXJNYW5pZmVzdC5wcmV2aWV3LFxuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUVycm9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkZXY6IHJvdXRlTW9kdWxlLmlzRGV2LFxuICAgICAgICAgICAgICAgIHBhZ2U6IFwiL2FwaS9zdWJtaXQtdm90ZVwiLFxuICAgICAgICAgICAgICAgIHByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiAoLi4uYXJncyk9Pm9uUmVxdWVzdEVycm9yKHJlcSwgLi4uYXJncylcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGludm9rZVJvdXRlTW9kdWxlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gd2UgcmUtdGhyb3cgaW4gZGV2IHRvIHNob3cgdGhlIGVycm9yIG92ZXJsYXlcbiAgICAgICAgaWYgKHJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBpcyB0ZWNobmljYWxseSBhbiBpbnZhcmlhbnQgYXMgZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgLy8gc2hvdWxkIGJlIGRvbmUgaW5zaWRlIG9mIGFwaS1yZXNvbHZlciBvbkVycm9yXG4gICAgICAgIHNlbmRFcnJvcihyZXMsIDUwMCwgJ0ludGVybmFsIFNlcnZlciBFcnJvcicpO1xuICAgIH0gZmluYWxseXtcbiAgICAgICAgLy8gV2UgZG9uJ3QgYWxsb3cgYW55IHdhaXRVbnRpbCB3b3JrIGluIHBhZ2VzIEFQSSByb3V0ZXMgY3VycmVudGx5XG4gICAgICAgIC8vIHNvIGlmIGNhbGxiYWNrIGlzIHByZXNlbnQgcmV0dXJuIHdpdGggcmVzb2x2ZWQgcHJvbWlzZSBzaW5jZSBub1xuICAgICAgICAvLyBwZW5kaW5nIHdvcmtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsubmit-vote&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsubmit-vote.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/submit-vote.ts":
/*!**********************************!*\
  !*** ./pages/api/submit-vote.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_voteStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/voteStore */ \"(api-node)/./lib/voteStore.ts\");\n\nfunction handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            message: 'Method not allowed'\n        });\n    }\n    try {\n        const { vote } = req.body;\n        // Validate vote input\n        if (!vote || vote !== 'human' && vote !== 'ai') {\n            return res.status(400).json({\n                message: 'Invalid vote. Must be either \"human\" or \"ai\"'\n            });\n        }\n        // Submit the vote\n        const isAI = vote === 'ai';\n        const gameState = _lib_voteStore__WEBPACK_IMPORTED_MODULE_0__.voteStore.submitVote(isAI);\n        const { voteStats } = _lib_voteStore__WEBPACK_IMPORTED_MODULE_0__.voteStore.getVotes();\n        // Return success response with updated game state\n        res.status(200).json({\n            success: true,\n            message: 'Vote submitted successfully!',\n            gameState,\n            voteStats\n        });\n    } catch (error) {\n        console.error('Error submitting vote:', error);\n        res.status(500).json({\n            message: 'Failed to submit vote',\n            error:  true ? error.message : 0\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9zdWJtaXQtdm90ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUM0QztBQUU3QixTQUFTQyxRQUN0QkMsR0FBbUIsRUFDbkJDLEdBQW9CO0lBRXBCLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUFxQjtJQUM5RDtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHTixJQUFJTyxJQUFJO1FBRXpCLHNCQUFzQjtRQUN0QixJQUFJLENBQUNELFFBQVNBLFNBQVMsV0FBV0EsU0FBUyxNQUFPO1lBQ2hELE9BQU9MLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCQyxTQUFTO1lBQ1g7UUFDRjtRQUVBLGtCQUFrQjtRQUNsQixNQUFNRyxPQUFPRixTQUFTO1FBQ3RCLE1BQU1HLFlBQVlYLHFEQUFTQSxDQUFDWSxVQUFVLENBQUNGO1FBQ3ZDLE1BQU0sRUFBRUcsU0FBUyxFQUFFLEdBQUdiLHFEQUFTQSxDQUFDYyxRQUFRO1FBRXhDLGtEQUFrRDtRQUNsRFgsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQlMsU0FBUztZQUNUUixTQUFTO1lBQ1RJO1lBQ0FFO1FBQ0Y7SUFFRixFQUFFLE9BQU9HLE9BQVk7UUFDbkJDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBRXhDYixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQ25CQyxTQUFTO1lBQ1RTLE9BQU9FLEtBQXNDLEdBQUdGLE1BQU1ULE9BQU8sR0FBR1ksQ0FBU0E7UUFDM0U7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdHJldm9yYWxwZXJ0L0Rlc2t0b3AvUm9hc3RCb3QvcGFnZXMvYXBpL3N1Ym1pdC12b3RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IHZvdGVTdG9yZSB9IGZyb20gJ0AvbGliL3ZvdGVTdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXG4pIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHZvdGUgfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gVmFsaWRhdGUgdm90ZSBpbnB1dFxuICAgIGlmICghdm90ZSB8fCAodm90ZSAhPT0gJ2h1bWFuJyAmJiB2b3RlICE9PSAnYWknKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIHZvdGUuIE11c3QgYmUgZWl0aGVyIFwiaHVtYW5cIiBvciBcImFpXCInIFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU3VibWl0IHRoZSB2b3RlXG4gICAgY29uc3QgaXNBSSA9IHZvdGUgPT09ICdhaSc7XG4gICAgY29uc3QgZ2FtZVN0YXRlID0gdm90ZVN0b3JlLnN1Ym1pdFZvdGUoaXNBSSk7XG4gICAgY29uc3QgeyB2b3RlU3RhdHMgfSA9IHZvdGVTdG9yZS5nZXRWb3RlcygpO1xuXG4gICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2Ugd2l0aCB1cGRhdGVkIGdhbWUgc3RhdGVcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ1ZvdGUgc3VibWl0dGVkIHN1Y2Nlc3NmdWxseSEnLFxuICAgICAgZ2FtZVN0YXRlLFxuICAgICAgdm90ZVN0YXRzXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgdm90ZTonLCBlcnJvcik7XG4gICAgXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gc3VibWl0IHZvdGUnLFxuICAgICAgZXJyb3I6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IubWVzc2FnZSA6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJ2b3RlU3RvcmUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ2b3RlIiwiYm9keSIsImlzQUkiLCJnYW1lU3RhdGUiLCJzdWJtaXRWb3RlIiwidm90ZVN0YXRzIiwiZ2V0Vm90ZXMiLCJzdWNjZXNzIiwiZXJyb3IiLCJjb25zb2xlIiwicHJvY2VzcyIsInVuZGVmaW5lZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/submit-vote.ts\n");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsubmit-vote&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsubmit-vote.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();